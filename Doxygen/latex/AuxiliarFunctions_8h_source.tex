\hypertarget{AuxiliarFunctions_8h_source}{}\doxysection{/home/filipegaio/\+Desktop/\+FEUP/\+AED-\/cpp/\+AED-\/proj2023/\+Auxiliar\+Functions.h}
\mbox{\hyperlink{AuxiliarFunctions_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//}}
\DoxyCodeLine{2 \textcolor{comment}{// Created by filipegaio on 01-\/11-\/2023.}}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#ifndef PROJ2023\_AUXILIARFUNCTIONS\_H}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#define PROJ2023\_AUXILIARFUNCTIONS\_H}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#include <stack>}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{Student_8h}{Student.h}}"{}}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{Classs_8h}{Classs.h}}"{}}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{Uc_8h}{Uc.h}}"{}}}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{Opperation_8h}{Opperation.h}}"{}}}
\DoxyCodeLine{23 }
\DoxyCodeLine{24 \textcolor{keyword}{using namespace }std;}
\DoxyCodeLine{25 }
\DoxyCodeLine{34 \textcolor{keywordtype}{void} \mbox{\hyperlink{AuxiliarFunctions_8h_adae90ee7f26a97809610f4107ef8dec9}{printSchedule}}(\textcolor{keyword}{const} vector<pair<string, string>>\& isInUcCl, vector<Uc> *ucs)\{}
\DoxyCodeLine{35     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& ucUl : isInUcCl)\{ \textcolor{comment}{//for loop trough classes that the student is enrroled and print them}}
\DoxyCodeLine{36         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} uc : *ucs)\{}
\DoxyCodeLine{37             \textcolor{keywordflow}{if} (ucUl.first == uc.getCode())\{}
\DoxyCodeLine{38                 \textcolor{keywordflow}{for} ( \textcolor{keyword}{const} \textcolor{keyword}{auto}\& cl : uc.getClassses())\{}
\DoxyCodeLine{39                     \textcolor{keywordflow}{if} (ucUl.second == cl.getCode())\{}
\DoxyCodeLine{40                         uc.printClassSchedule(cl);}
\DoxyCodeLine{41                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{42                     \}}
\DoxyCodeLine{43                 \}}
\DoxyCodeLine{44                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{45             \}}
\DoxyCodeLine{46         \}}
\DoxyCodeLine{47     \}}
\DoxyCodeLine{48 \}}
\DoxyCodeLine{49 }
\DoxyCodeLine{60 vector<pair<Aula, pair<string, string>>> \mbox{\hyperlink{AuxiliarFunctions_8h_aefb1e0814c17d7beb98692b86f05863d}{overlappedClasses}}(\textcolor{keyword}{const} \mbox{\hyperlink{classStudent}{Student}}\& student, vector<Uc> \&ucs) \{}
\DoxyCodeLine{61     list<pair<Aula, pair<string, string>>> studentsClasses; \textcolor{comment}{//list to hold studentClasses, efficient to push\_back}}
\DoxyCodeLine{62     vector<pair<Aula, pair<string, string>>> overlapped;}
\DoxyCodeLine{63     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \mbox{\hyperlink{classUc}{Uc}}\& uc : ucs)\{ \textcolor{comment}{//for loop to add all classes of a certain student to a vector sutdentsClasses}}
\DoxyCodeLine{64         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \mbox{\hyperlink{classClasss}{Classs}}\& classs : uc.getClassses())\{}
\DoxyCodeLine{65             \textcolor{keywordflow}{for} ( \textcolor{keyword}{const} \textcolor{keyword}{auto}\& p : student.\mbox{\hyperlink{classStudent_a4bbb17e54054460ceffd29568dd19a52}{getIsIn}}())\{}
\DoxyCodeLine{66                 \textcolor{keywordflow}{if} (uc.getCode() == p.first \&\& classs.getCode() == p.second)\{}
\DoxyCodeLine{67                     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \mbox{\hyperlink{structAula}{Aula}}\& aula : classs.getSchedule())\{}
\DoxyCodeLine{68                         pair<Aula, pair<string, string>> tmp = make\_pair(aula, make\_pair(uc.getCode(),classs.getCode()));}
\DoxyCodeLine{69                         studentsClasses.push\_back(tmp);}
\DoxyCodeLine{70                     \}}
\DoxyCodeLine{71                 \}}
\DoxyCodeLine{72             \}}
\DoxyCodeLine{73         \}}
\DoxyCodeLine{74     \}}
\DoxyCodeLine{75     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& p: studentsClasses)\{ \textcolor{comment}{//for loop through the created vector to see if there is over lapped classes}}
\DoxyCodeLine{76         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& p1: studentsClasses)\{}
\DoxyCodeLine{77             \textcolor{keywordflow}{if} (p.second != p1.second)\{}
\DoxyCodeLine{78                 \textcolor{keywordflow}{if}(p.first.weekDay == p1.first.weekDay \&\& ((p.first.start <= p1.first.start \&\& p.first.end > p1.first.start) || (p.first.start >= p1.first.start \&\& p1.first.end > p.first.start)))}
\DoxyCodeLine{79                 \{}
\DoxyCodeLine{80                     \textcolor{keywordtype}{bool} first = \textcolor{keyword}{false};}
\DoxyCodeLine{81                     \textcolor{keywordtype}{bool} second = \textcolor{keyword}{false};}
\DoxyCodeLine{82                     \textcolor{comment}{//verificar se tanto o pair p como o pair 1 ainda não estão no vetor overlapped}}
\DoxyCodeLine{83                     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& patual : overlapped)\{}
\DoxyCodeLine{84                         \textcolor{keywordflow}{if} (patual == p) first = \textcolor{keyword}{true};}
\DoxyCodeLine{85                         \textcolor{keywordflow}{if} (patual == p1) second = \textcolor{keyword}{true};}
\DoxyCodeLine{86                     \}}
\DoxyCodeLine{87                     \textcolor{keywordflow}{if} (!first) overlapped.push\_back(p);}
\DoxyCodeLine{88                     \textcolor{keywordflow}{if} (!second) overlapped.push\_back(p1);}
\DoxyCodeLine{89                 \}}
\DoxyCodeLine{90             \}}
\DoxyCodeLine{91         \}}
\DoxyCodeLine{92     \}}
\DoxyCodeLine{93     \textcolor{keywordflow}{return} overlapped;}
\DoxyCodeLine{94 \}}
\DoxyCodeLine{95 }
\DoxyCodeLine{103 \textcolor{comment}{//Funtion to read csv of opps and create a stack}}
\DoxyCodeLine{104 stack<Opperation> \mbox{\hyperlink{AuxiliarFunctions_8h_acb47f4956f4de2e2cc3e1774dd206550}{loadRequests}}()\{}
\DoxyCodeLine{105 }
\DoxyCodeLine{106     \textcolor{comment}{//Stack to store requests}}
\DoxyCodeLine{107     stack<Opperation> requests;}
\DoxyCodeLine{108     ifstream file(\textcolor{stringliteral}{"{}../schedule/operations.csv"{}}); \textcolor{comment}{// Open the CSV file}}
\DoxyCodeLine{109     \textcolor{keywordtype}{string} line;}
\DoxyCodeLine{110 }
\DoxyCodeLine{111     \textcolor{keywordtype}{bool} first = \textcolor{keyword}{true};}
\DoxyCodeLine{112     \textcolor{keywordflow}{while} (getline(file, line)) \{}
\DoxyCodeLine{113         \textcolor{keywordflow}{if} (line != \textcolor{stringliteral}{"{}\(\backslash\)r"{}}) \{}
\DoxyCodeLine{114             istringstream ss(line);}
\DoxyCodeLine{115             \textcolor{keywordtype}{string} type, meca, ucCode, originClass, finalClass;}
\DoxyCodeLine{116             \textcolor{keywordtype}{int} numero;}
\DoxyCodeLine{117             \textcolor{keywordtype}{bool} existeAluno = \textcolor{keyword}{false};}
\DoxyCodeLine{118 }
\DoxyCodeLine{119             \textcolor{keywordflow}{if} (!first) \{}
\DoxyCodeLine{120                 getline(ss, type, \textcolor{charliteral}{','}); \textcolor{comment}{// "{}add"{} or "{}remove"{} or "{}switch"{}}}
\DoxyCodeLine{121                 getline(ss, meca, \textcolor{charliteral}{','});  \textcolor{comment}{//mecanographic number}}
\DoxyCodeLine{122                 getline(ss, ucCode, \textcolor{charliteral}{','}); \textcolor{comment}{//UC code}}
\DoxyCodeLine{123                 \textcolor{keywordflow}{if} (type == \textcolor{stringliteral}{"{}add"{}})\{}
\DoxyCodeLine{124                     getline(ss, finalClass, \textcolor{charliteral}{','});}
\DoxyCodeLine{125                     originClass = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{126                 \}}
\DoxyCodeLine{127                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type == \textcolor{stringliteral}{"{}remove"{}})\{}
\DoxyCodeLine{128                     getline(ss, originClass, \textcolor{charliteral}{','});}
\DoxyCodeLine{129                     finalClass = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{130                 \}}
\DoxyCodeLine{131                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type == \textcolor{stringliteral}{"{}switch"{}})\{}
\DoxyCodeLine{132                     getline(ss, originClass, \textcolor{charliteral}{','});}
\DoxyCodeLine{133                     getline(ss, finalClass, \textcolor{charliteral}{','});}
\DoxyCodeLine{134                 \}}
\DoxyCodeLine{135                 \mbox{\hyperlink{structOpperation}{Opperation}} op = \{type, meca, ucCode, originClass, finalClass\}; \textcolor{comment}{//create an object of type opperation with the values read from scv}}
\DoxyCodeLine{136                 requests.push(op); \textcolor{comment}{//and add it to this vector}}
\DoxyCodeLine{137             \}}
\DoxyCodeLine{138             first = \textcolor{keyword}{false};}
\DoxyCodeLine{139         \}}
\DoxyCodeLine{140     \}}
\DoxyCodeLine{141 }
\DoxyCodeLine{142     \textcolor{keywordflow}{return} requests;}
\DoxyCodeLine{143 }
\DoxyCodeLine{144 \}}
\DoxyCodeLine{145 }
\DoxyCodeLine{153 \textcolor{keywordtype}{void} \mbox{\hyperlink{AuxiliarFunctions_8h_a2733b4196e48f025c2779c2f2299a8e5}{undoSuccessful}}() \{}
\DoxyCodeLine{154     ifstream inputFile(\textcolor{stringliteral}{"{}../schedule/operations.csv"{}});}
\DoxyCodeLine{155     vector<string> lines;}
\DoxyCodeLine{156     \textcolor{keywordtype}{string} line;}
\DoxyCodeLine{157 }
\DoxyCodeLine{158     \textcolor{keywordflow}{while} (getline(inputFile, line)) \{}
\DoxyCodeLine{159         lines.push\_back(line);}
\DoxyCodeLine{160     \}}
\DoxyCodeLine{161     lines.pop\_back();}
\DoxyCodeLine{162     lines.pop\_back();}
\DoxyCodeLine{163 }
\DoxyCodeLine{164     inputFile.close();}
\DoxyCodeLine{165 }
\DoxyCodeLine{166     std::ofstream outputFile(\textcolor{stringliteral}{"{}../schedule/operations.csv"{}});}
\DoxyCodeLine{167 }
\DoxyCodeLine{168     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& l : lines) \{}
\DoxyCodeLine{169         outputFile << l << std::endl;}
\DoxyCodeLine{170     \}}
\DoxyCodeLine{171 }
\DoxyCodeLine{172     outputFile.close();}
\DoxyCodeLine{173 }
\DoxyCodeLine{174 \}}
\DoxyCodeLine{175 }
\DoxyCodeLine{176 }
\DoxyCodeLine{177 \textcolor{preprocessor}{\#endif }\textcolor{comment}{//PROJ2023\_AUXILIARFUNCTIONS\_H}}

\end{DoxyCode}
